# ADR 004:历史验证器

## 语境

现在，我们可以查询当前的验证器集，但没有历史记录。
如果您长时间离线，则无法重建过去的验证器。这是轻客户端所需要的，我们同意需要增强 API。

## 决定

对于每个块，存储一个包含最新验证器集的新结构，
或验证器集更改的最后一个块的高度。注意这不是
返回验证器集的块的高度本身会改变，但下一个块，
IE。它生效的第一个区块。

存储验证器将由 `state` 包处理。

在未来的某个时候，我们可能会考虑在验证器的情况下使用更高效的存储
经常更新 - 例如只保存差异，而不是整个集合。

另一种方法建议将验证器集或其差异保存在默克尔 IAVL 树中。
虽然它可以提供验证者集没有改变的更便宜的证明，但它会更复杂，
并且可能效率较低。

## 状态

实施的

## 结果

### 积极的

- 可以查询旧的验证器集，有证据。

### 消极的

- 为每个块写入一个额外的结构到磁盘。

### 中性的
