# ADR 022:ABCIエラー

## 変更ログ

-* 2018-09-01 *初期バージョン

## 環境

ABCIエラーは、アプリケーションの詳細間の抽象化を提供する必要があります
また、ユーザーへのエラーのフォーマットと表示を担当するクライアントインターフェイス.

現在、この抽象化は整数( `code`)で構成されており、そのいずれかが
`code> 0`はエラー(つまり、無効なトランザクション)と見なされ、すべてのタイプ
エラーに関する情報はコードに含まれています.この整数は
クライアントによって既知のエラー文字列にデコードされることが期待されます.
より具体的なデータは「データ」に含まれています.

[前の会話](https://github.com/tendermint/abci/issues/165#issuecomment-353704015)で、
ゼロ以外のすべてのコードがエラーである必要はないことが示唆されているため、「エラーコード」ではなく「コード」と呼ばれます.
`code`フィールドのセマンティクスがどのように進化するかは明らかではありませんが
より合理化されたクライアント側の証明(説明されているタグなど)
[こちら](https://github.com/tendermint/tendermint/issues/1007#issuecomment-413917763))
役割を果たす可能性があります.

すべての型情報が単一の整数に含まれていることに注意してください
「モジュール実装者」と「クライアント」間の単純な調整方法を排除します
実装者」、特に多くの「モジュール」を備えたアプリケーション用.無制限のエラーフィールド(文字列など)、モジュール
実装者はグローバルに一意のプレフィックスとエラーコードセットを選択できるため、クライアントは
実装者は、「モジュールA」のサポートを、どちらに関係なく簡単に実装できます.
それが実行されている特定のブロックチェーンネットワークとそれが実行されている他のモジュール.と
エラーコードのみ、グローバルに一意のコードはスペースのために困難/不可能
制限があります.簡単な調整方法がないと衝突が発生しやすくなります.

たとえば、単一のモジュールに組み合わせることができるエコシステムを構築しようとする場合
ABCIアプリケーションでは、Cosmos-SDKは上位レベルの「コードスペース」を次のように解読する必要があります.
各モジュールが独自のスペースを持つことができるようにする単一の整数
間違い.

## 決定

`code`を含むすべてのABCIメッセージに` stringcode_space`を含めます.
これにより、アプリケーションはコードに名前を付けて実験できるようになります
独自のコードスキーム.

アプリケーションは、 `code_space`のサイズを制限する責任があります
弦.

コードスペースがブロックヘッダーにハッシュされる方法(つまり、クエリを実行できます)
liteクライアントは有効です)は別のADRに任されています.

## 結果

## ポジティブ

-単一の整数に対して複雑なコード間隔は必要ありません
-より表現力豊かなエラー型システム

## ネガティブ

-応答で別のフィールドを考慮する必要があります
-`code`フィールドの冗長性
-より多くのエラー/コードタイプ情報を `codespace`文字列に移動するように促す場合があります.
  クライアントの合理化されたバージョンに影響を与える可能性があります.
